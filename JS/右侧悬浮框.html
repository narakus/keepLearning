<!DOCTYPE html>
<html>
<head>
    <title>右侧悬浮框</title>
    <style type="text/css">
        #div1 {width: 100px;height: 150px;background: red;position: absolute;right: 0;bottom: 0;}
    </style>
</head>
<body style="height: 5000px">

<div id="div1" ></div>



<script type="text/javascript">

    var timer=null;
    function startMove(iTarget)
    {
        var oDiv=document.getElementById('div1');
        clearInterval(timer);
        timer=setInterval(function(){
            var speed=(iTarget-oDiv.offsetTop)/6;
            speed=speed>0?Math.ceil(speed):Math.floor(speed);
            if(oDiv.offsetTop==iTarget)
            {
                clearInterval(timer);
            }
            else
            {
                oDiv.style.top=oDiv.offsetTop + speed + 'px';
            }


        },30);

    }



    window.onscroll=function()
    {
        var oDiv=document.getElementById('div1');
        var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
        //oDiv.style.top=document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop+'px';  //原来的方式
        startMove(document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop); //通过运动框架
    }

</script>

</body>
</html>